<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Layui</title>
    <script src="/js/jquery-3.2.1.min.js"></script>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="/layui/css/layui.css" media="all">
    <!-- 注意：如果你直接复制所有代码到本地，上述css路径需要改成你本地的 -->
</head>

<body>
    <!-- 让IE8/9支持媒体查询，从而兼容栅格 -->
    <!-- [if lt IE 9]>
  <script src="https://cdn.staticfile.org/html5shiv/r29/html5.min.js"></script>
  <script src="https://cdn.staticfile.org/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

    <div style="margin: 0 auto; max-width: 1140px;">
        
  <fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">
    <legend>请选择你想要的停靠的车位（深色车位为当前已被预约的位置）</legend>
  </fieldset>

        <div class="layui-row layui-col-space40" style="margin-top: 20px;margin-left: 20px;">
            <div class="layui-col-md1">
                <button id="1-1" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-2" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-3" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-4" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-5" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-6" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-7" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-8" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="1-9" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
        </div>

        <div class="layui-row layui-col-space40" style="margin-top: 20px;margin-left: 20px;">
            <div class="layui-col-md1">
                <button id="2-1" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-2" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-3" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-4" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-5" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-6" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-7" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-8" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="2-9" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
        </div>

        <div class="layui-row layui-col-space40" style="margin-top: 20px;margin-left: 20px;">
            <div class="layui-col-md1">
                <button id="3-1" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-2" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-3" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-4" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-5" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-6" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-7" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-8" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="3-9" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
        </div>

        <div class="layui-row layui-col-space40" style="margin-top: 20px;margin-left: 20px;">
            <div class="layui-col-md1">
                <button id="4-1" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-2" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-3" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-4" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-5" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-6" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-7" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-8" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="4-9" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
        </div>

        <div class="layui-row layui-col-space40" style="margin-top: 20px;margin-left: 20px;">
            <div class="layui-col-md1">
                <button id="5-1" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-2" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-3" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-4" class="grid-demo grid-demo-bg1" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-5" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-6" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-7" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-8" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
            <div class="layui-col-md1">
                <button id="5-9" class="grid-demo" style="width: 70px;height: 50px;">
                    <i class="layui-icon layui-icon-face-surprised" style="color: red;"></i>
                </button>
            </div>
        </div>

        <script src="/layui/layui.js" charset="utf-8"></script>
        <!-- 注意：如果你直接复制所有代码到本地，上述 JS 路径需要改成你本地的 -->
        <script>
            $.get({
                url:'/order/spotGet',
                success:function (data) {

                            for(var i =0;i<data.len;i++)
                            {
                                 //对传来的数据进行渲染
                                var parid = document.getElementById(data.arr[i]);
                                parid.style.backgroundColor="rosybrown";

                            }
                            
                        }
            
            })
       
           
            //监听点击事件
            var buttList = document.getElementsByTagName("button");
            $(".grid-demo").click(function(){
                var parid = document.getElementById($(this).attr("id"));
                var color = parid.style.backgroundColor;
                if (color =='rosybrown'){
                    alert('不能选择');

                }else{
                    var parkID = $(this).attr("id")
                    $.ajax({
                        type:'post',
                        url:'/order/post',
                        dataType:'json',
                        data: JSON.stringify({'orderParking':parkID}),
                        contentType:'application/json',
                        success:function (data) {

                            alert(data.code+'：'+parkID);
                            if (data.insert == '200'){
                                alert('订单已成功提交');
                                window.location.href='/redirect';
                            }

                        },
                        error:function () {
                            layer.alert("请求超时！")
                        }
                    });
                }

            })
        </script>

</body>

</html>